<div ng-controller="teacherDashboardController">
    <nav class="navbar bg-body-tertiary d-block d-md-none">
        <div class="container-fluid">
            <a class="navbar-brand" data-bs-toggle="offcanvas" href="#offcanvasExample" role="button"
                aria-controls="offcanvasExample"><img src="../images/main-menu.png" class="mx-2" style="height: 2rem"
                    alt="options"></a>
            <div ui-sref="teacher.profile" class="d-flex align-items-center justify-content-around w-auto gap-3 mx-lg-5"
                mx-md-2>
                <h5 class="m-0">{{name}}</h5>
                <div style="height: 2rem; width: 2rem; border-radius: 50%;">
                    <img src="../images/user.png" style="width: 100%; cursor: pointer;">
                </div>
            </div>
        </div>
    </nav>
    <ui-view class="h-auto d-flex flex-column p-4" id="margin">
        <h1 class="m-auto mb-4 p-2" style="width: fit-content; border-bottom: 2px solid #495057;">
            Mark Attendance for Today
        </h1>

        <table class="table table-hover">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">id</th>
                    <th scope="col">Name</th>
                    <th scope="col">Subject</th>
                    <th scope="col">Attendance</th>
                </tr>
            </thead>
            <tbody ng-repeat="student in students">
                <tr>
                    <th scope="row">{{$index+1}}</th>
                    <th scope="row">{{student.id}}</th>
                    <td>{{student.name}}</td>
                    <td>{{subject}}</td>
                    <th scope="row">
                        <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                            <input type="radio" class="btn-check" id="{{'present'+student.id}}"
                                name="{{'student'+student.id}}">
                            <label class="btn btn-outline-primary" for="{{'present'+student.id}}">P</label>

                            <input type="radio" class="btn-check" id="{{'absent'+student.id}}"
                                name="{{'student'+student.id}}">
                            <label class="btn btn-outline-primary" for="{{'absent'+student.id}}">A</label>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <div class="m-auto mt-4">
            <button class="btn btn-success">Submit</button>
            <button class="btn btn-outline-success">All Present</button>
            <button class="btn btn-outline-danger">All Absent</button>
        </div>
    </ui-view>
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Logout ?</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    Do you really want to Logout ?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal"
                        ng-click="logout()">Logout</button>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex flex-column flex-shrink-0 p-4 text-white bg-dark d-none d-md-block"
        style="position: absolute; top: 0; left:0; height: 100vh;width: 350px; border-right:2px solid #495057;">
        <div class="offcanvas-header mt-3 mb-3">
            <h3 class="offcanvas-title" id="offcanvasExampleLabel">Welcome {{name}}!</h3>
            <!-- <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button> -->
        </div>
        <div class="offcanvas-body">
            <div class="list-group link-offset-1-hover mt-2">
                <a ui-sref="teacher" data-bs-dismiss="offcanvas" class="list-group-item list-group-item-action"
                    aria-current="true">
                    Dashboard
                </a>
                <a ui-sref="teacher.myStudents" data-bs-dismiss="offcanvas"
                    class="list-group-item list-group-item-action">My Students</a>
                <a ui-sref="teacher.markAttendance" data-bs-dismiss="offcanvas"
                    class="list-group-item list-group-item-action">Mark Attendance</a>
            </div>
            <div class="d-flex align-items-center gap-2 mt-4">
                <button class="btn" data-bs-toggle="modal" data-bs-target="#exampleModal"
                    style="border: 1px solid #495057">logout <img src="../images/logout.png"
                        style="height: 2rem; margin-left: 0.5rem;" alt="logout"></button>
                <div ui-sref="teacher.profile" class="d-flex align-items-center gap-2 border p-1  rounded "
                    style="height: 3rem; cursor: pointer;">
                    <h5 class="m-0 btn">{{name}}</h5>
                    <div style="height: 2rem; width: 2rem; border-radius: 50%;">
                        <img src="../images/user.png" style="width: 100%; cursor: pointer;">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasExampleLabel">Dashboard</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <div>
                Welcome {{name}}!
            </div>
            <div class="mt-2">
                <div class="list-group">
                    <a ui-sref="teacher" data-bs-dismiss="offcanvas" class="list-group-item list-group-item-action"
                        aria-current="true">
                        Dashboard
                    </a>
                    <a ui-sref="teacher.myStudents" data-bs-dismiss="offcanvas"
                        class="list-group-item list-group-item-action">My Students</a>
                    <a ui-sref="teacher.markAttendance" data-bs-dismiss="offcanvas"
                        class="list-group-item list-group-item-action">Mark
                        Attendance</a>
                </div>
            </div>
            <button class="btn mt-4" ng-click='logout()' style="border: 1px solid #495057">logout <img
                    src="../images/logout.png" style="height: 2rem; margin-left: 0.5rem;" alt="logout"></button>

        </div>
    </div>
</div>